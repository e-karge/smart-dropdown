<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>smart dropdown</title>
  <link href="css/default.css" rel="stylesheet"/>
  <style>
    head {
      display: block;
      background: lightskyblue;
      text-align: center;
      padding: 20px;
    }

    title {
      font-size: 24px;
      display: block;
    }

    body {
      text-align: center;
    }

  </style>
  <script type="text/javascript" src="js/polyfill.js"></script>
</head>
<body>
<div class="smart-dropdown">
  <input value="">
  <button tabindex="-1" unselectable="on">&#9662;</button>
  <ul tabindex="-1" unselectable="on" style="display: none">
    <li unselectable="on">blub</li>
    <li unselectable="on">bla</li>
    <li unselectable="on">blob</li>
    <li unselectable="on">hella</li>
    <li unselectable="on">hello</li>
    <li unselectable="on">world</li>
    <li unselectable="on">ein wirklich langer text. so!!! wirklich! gaaaanz lang!</li>
  </ul>
</div>
<script type="text/javascript" src="js/smart-dropdown.js"></script>
<script type="text/javascript"><!--
(function () {
  var dropdown = document.querySelector(".smart-dropdown");
  var entries = [];
  for (var i = 0; i < 7000; ++i) {
    entries.push(document.createTextNode("entry: " + i));
  }
  dropdown.appendChoice.apply(dropdown, entries);
  dropdown.value = "blob";
  dropdown.onchange = function (e) {
    alert(e);
  }
}());
--></script>
</body>
</html>
